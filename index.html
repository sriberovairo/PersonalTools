<html>
<head>
<script language='javascript'>
	function myFunction ()
	{
		var result = '';
		document.getElementById('resulting').value = '';
		var origin = document.getElementById('origin').value;
		var lines = origin.split('\n');
		for(var i = 0;i < lines.length;i++){
		    var words = lines[i].split(' ');
		    var lastWord = words[words.length - 1];
		    result = result + lastWord + ', ';
		    result = result + lines[i].substring(0, lines[i].length - lastWord.length) + '\n' ;
		}
		document.getElementById('resulting').value = result;
	}
</script>
</head>
<body>
<table>
	<tr>
		<td>
			Original text
		</td>
		<td>
		</td>
		<td>
			Resulting text
		</td>
	</tr>
	<tr>
		<td>
			<textarea name="origin" id="origin" rows="20" cols="50"></textarea>
		</td>
		<td>
			<input type="button" onclick="myFunction()" name="transform" id="transform" value="Transform -->"/>
		</td>
		<td>
			<textarea name="resulting" id="resulting" rows="20" cols="50"></textarea>
		</td>
	</tr>
</table>
</body>
</html>